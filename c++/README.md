
# Advent of Code 2022 - C++ solutions

## Project structure

The project contains a folder for each day, and a `Common/` folder providing functions used across puzzles.

The build system used is CMake.
Cmake can generate Makefile build files on Unix systems, and VS solution files on Windows.
The generated build files are created under a separate `build/` folder.

## Build

### Manual build with Make (Unix) from a terminal

```bash
$>  mkdir build
$>  cd build/
$>  cmake ..
$>  make
$>  ./day01/day01.bin
```

### Manual build with MSBuild (Windows) from Powershell

On Windows, CMake generates MS solution files that can be built into binarieswith MSBuild.
MSBuild is included in the Microsoft Visual Studio installation.

```bash
$>  mkdir build
$>  cd build/
$>  cmake ..
$>  & "C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\MSBuild.exe" day01\day01.bin.vcxproj
$>  .\day01\Debug\day01.bin.exe
```

### Automatic build in VS Code (Windows)

 - install the VS Dev tools from VS Installer that includes CMake
 - open VS Code from the "Developer Command Prompt for VS" terminal
 - install the C++ and the CMake Tools extensions, then restart VS Code
 - CMake should be detected when opening the C++ project
 - select either Release or Debug Cmake build in the blue footer
 - click the Build button to generate the `.sln` and `.vcxproj` build files and the binaries

The binaries can then be executed from a terminal, for example :
 ```bash
$>  cd build
$>  .\day01\Release\day01.bin.exe
```

## Debugging in VS Code

We can debug an executable generated by CMake (usign MSBuild or Make) by creating a launch configuration referencing that executable.  
Open the `main.cpp` file in VS Code, click on the Debug menu in the left toolbar, and create a new configuration.
For example the `launch.json` can be something like :

```json
{
    "version": "0.2.0",
    "configurations": [ 
        {
            "name": "day01 (Windows)",
            "type": "cppvsdbg",
            "request": "launch",
            "program": "C:\\PATH_TO_REPO\\advent_of_code_2022\\c++\\build\\day01\\Debug\\day01.bin.exe",
            "console": "integratedTerminal",
            "logging": {
              "moduleLoad": false,
              "trace": true
            },
            "cwd": "${workspaceRoot}/build"
          }
    ]
}
```
This debug launch configuration should allow to run the executable in Debug mode by clicking on the Play icon of the Debug left panel.  
This can be confirmed by adding a breakpoint in the code and ensuring that the execution pauses at the breakpoint.
